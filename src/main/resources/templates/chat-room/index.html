<!DOCTYPE html>
<html xmlns:th="www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="/css/bootstrap.min.css" type="text/css"
	media="all" />
<style type="text/css">
body {
	background-color: black;
	min-height: 100vh;
}

#main {
	min-height: 100vh;
}

.room-name {
	font-size: 18px;
	font-weight: bold;
}

.room-recently-message {
	font-size: 15px;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}

.room-recently-message div {
	display: inline;
}

.room-card {
	margin-top: 10px;
}

.tittle-room-card {
	background-color: #FFFFFF;
	cursor: pointer;
}

.tittle-room-card-active {
	background-color: #DDDDDD;
	cursor: pointer;
}

#message-header {
	height: 7vh;
	background-color: pink;
}

#messages {
	background-color: rgb(225, 245, 255);;
	height: 83vh;
	padding: 20px 10px 5px 10px;
	overflow-y: auto;
}

#input {
	background-color: brown;
	height: 10vh;
	padding: 10px 10px 10px 10px;
}

#message-input {
	width: 85%;
	display: inline;
}

#button-input {
	width: 8%;
	margin-bottom: 5px;
}

.user-message {
	float: right;
	background-color: white;
}

.other-user-message {
	float: left;
	background-color: white;
}

.message {
	padding: 5px;
	clear: both; /* Clear both side of div */
	margin-bottom: 10px;
	max-width: 90%;
	white-space: normal;
	word-wrap: break-word;
}

#message-begin {
	display: flex;
	justify-content: center;
	align-items: center;
	height: 100vh;
}
</style>
</head>
<body th:attr="data-user-id=${userId}">
	<div class="container">
		<div class="row" id="main">
			<div class="col-md-4"
				style="background-color: orange; overflow-y: auto; max-height: 100vh;">
				<div
					style="margin-top: 10px; display: flex; justify-content: space-between;">
					<div>
						<img src="/img/chat-room/back-button.png" width="40"
							onclick="goBack()" style="cursor: pointer;">
						<h4 style="display: inline;">Tho√°t</h4>
					</div>
					<div>
						<button type="button" class="btn btn-primary"
							data-bs-toggle="modal" data-bs-target="#exampleModal">
							Th√™m ph√≤ng m·ªõi</button>
					</div>
				</div>
				<div th:each="room : ${chatRooms}">
					<div class="row room-card"
						th:attr="onclick=|changeRoom('${room.id}')|">
						<div class="col-md-2" style="background-color: red">Avatar</div>
						<div class="col-md-9 tittle-room-card"
							onmouseenter="changeBackgroundColorActive(this)"
							onmouseleave="changeBackgroundColor(this)">
							<div class="room-name" th:text="${room.id}">Name room</div>
							<div class="room-recently-message" th:name="${room.id}">Recently
								message</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-md-8"
				style="background-color: rgb(225, 245, 255); padding: 0px;">
				<div id="message-begin">
					<div>
						<img alt="" src="/img/chat-room/chat-room-gif.gif">
						<h2 style="text-align: center;">H√£y ch·ªçn m·ªôt ph√≤ng chat...</h2>
					</div>

				</div>
				<div id="message-component" style="display: none;">
					<div id="message-header"
						style="display: flex; justify-content: center; align-items: center;">
						<h4 id="message-header-name">Chat room name</h4>
					</div>
					<div id="message-content">
						<div id="messages"></div>
						<div id="input">
							<input class="form-control" type="text" id="message-input">
							<div id="button-emoji"
								style="display: inline; cursor: pointer; font-size: 25px;">üòä</div>
							<span><button onclick="sendMessage()" type="button"
									class="btn btn-info form-control" id="button-input">
									G·ª≠i</button></span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal -->
	<div class="modal fade" id="exampleModal" tabindex="-1"
		aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5" id="exampleModalLabel">Th√™m ph√≤ng chat m·ªõi</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal"
						aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<form action="" id="create-chat-room-form">
						<div>
							<label for="chat-room-id">T√™n ph√≤ng chat</label>
							<input class="form-control" name="id" id="chat-room-id" placeholder="T√™n ph√≤ng chat" type="text"/>
						</div>
						<div class="mt-10">
							<label for="chat-room-description">M√¥ t·∫£ ph√≤ng chat</label>
							<input class="form-control" name="description" id="chat-room-description" placeholder="M√¥ t·∫£ ph√≤ng chat" type="text"/>
						</div>
						<div class="mt-10">
							<label for="chat-room-image">·∫¢nh</label>
							<input class="form-control" id="chat-room-image" type="file"/>
						</div>
						<div class="mt-10">
							<img id="preview-image" style="width: 100%;" src="">
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button class="btn btn-success w-100" onclick="submitForm()"/>T·∫°o ph√≤ng chat!</button>
				</div>
			</div>
		</div>
	</div>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/emoji-button@latest/dist/index.min.js"></script>
	<script type="text/javascript" src="/js/chat-room.js"></script>
	<script type="text/javascript">
		
	</script>
</body>
</html>